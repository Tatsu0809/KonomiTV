import{u as h,H as x,N as w}from"./Navigation-eNbO1m68.js";import{d as b,a3 as y,u as k,x as S,c as d,a as s,b as t,h as o,w as V,k as p,e as g,A as a,t as c,r as m,V as r,n as C,o as _,R as B,_ as N}from"./index-DStg64TO.js";import{a as I}from"./VCard-jao7okYZ.js";import"./ssrBoot-vxrgaGfZ.js";import"./VAvatar-B6gGizsN.js";const U={class:"route-container"},z={class:"settings-navigation"},D={class:"account-wrapper"},M=["src"],A={class:"account__info"},H={class:"account__info-name"},P={class:"account__info-name-text"},R={key:0,class:"account__info-admin"},j={class:"account__info-id"},E={class:"ml-4"},F=b({__name:"MyPage",setup(K){const e=y(),l=h(),f=k();return S(async()=>{await e.fetchUser(),await l.fetchServerVersion()}),(T,n)=>{const v=m("router-link"),i=m("Icon");return _(),d("div",U,[s(x),t("main",null,[s(w),s(I,{class:"settings-container d-flex px-5 py-5 mx-auto",elevation:"0",width:"100%","max-width":"1000"},{default:o(()=>[t("nav",z,[n[4]||(n[4]=t("h1",{class:"mt-2",style:{"font-size":"24px"}},"マイページ",-1)),V((_(),p(v,{to:"/settings/account",class:"account mt-6"},{default:o(()=>{var u;return[t("div",D,[t("img",{class:"account__icon",src:a(e).user?a(e).user_icon_url??"":"/assets/images/account-icon-default.png"},null,8,M),t("div",A,[t("div",H,[t("span",P,c(a(e).user?a(e).user.name:"ログインしていません"),1),(u=a(e).user)!=null&&u.is_admin?(_(),d("span",R,"管理者")):g("",!0)]),t("span",j,c(a(e).user?`User ID: ${a(e).user.id}`:"Not logged in"),1)])])]}),_:1})),[[B]]),s(r,{variant:"flat",class:"settings-navigation__button",to:"/settings/"},{default:o(()=>[s(i,{icon:"fluent:settings-20-regular",width:"26px"}),n[0]||(n[0]=t("span",{class:"ml-4"},"設定",-1))]),_:1}),s(r,{variant:"flat",class:"settings-navigation__button mt-3",to:"/mylist/"},{default:o(()=>[s(i,{icon:"ic:round-playlist-play",width:"26px"}),n[1]||(n[1]=t("span",{class:"ml-4"},"マイリスト",-1))]),_:1}),s(r,{variant:"flat",class:"settings-navigation__button",to:"/watched-history/"},{default:o(()=>[s(i,{icon:"fluent:history-20-regular",width:"26px"}),n[2]||(n[2]=t("span",{class:"ml-4"},"視聴履歴",-1))]),_:1}),a(f).settings.is_cloudflare_zerotrust?(_(),p(r,{key:0,variant:"flat",class:"settings-navigation__button mt-3",href:"/cdn-cgi/access/logout"},{default:o(()=>[s(i,{icon:"fluent:sign-out-20-regular",width:"26px"}),n[3]||(n[3]=t("span",{class:"ml-4"},"CFからログアウト",-1))]),_:1})):g("",!0),s(r,{variant:"flat",class:C(["settings-navigation__button settings-navigation__button--version mt-3",{"settings-navigation__button--version-highlight":a(l).is_update_available}]),href:"https://github.com/tsukumijima/KonomiTV",target:"_blank"},{default:o(()=>[s(i,{icon:"fluent:info-20-regular",width:"26px"}),t("span",E," version "+c(a(l).client_version)+c(a(l).is_update_available?" (Update Available)":""),1)]),_:1},8,["class"])])]),_:1})])])}}}),O=N(F,[["__scopeId","data-v-074e6301"]]);export{O as default};
